------------------9. CONTAINERS ---------------------------------------------------------------------------------------------------------------

used for packaging microservices. they are decoupled with ELB. 

container is small, light weight runtime binary which can be used to deploy any kind of applications. to deploy apis, applications
containers are processes hypervised.  repeatable. 

container runtime - facilitates creation of containers. e.x - docker, ixc, podman.
container images - packages used to create containers. Dockerfile is used to create images of container.

HYPERVISOR - that creates and runs VMs. VM are hardware hypervised whereas containers are process hypervised. 
hypervisor is a virtualization software to divide and allocate the resources on various plaves of hardware. it allows multiple OS to run on a single hosted system

container service in AWS -  

AMAZON ECR  - CONTAINER SERVICE REGISTRY
AMAZON EKS - KUBERNETES SERVICE - orchestration service. can provision Amazon eks cluster on Fargate(serverless) and EC2 
AMAZON ECS - AMAZON ELASTIC CONTAINER SERVICE. fully managed container orchestration service. (same like kubernetes but only in AWS)

TWO WAYS WE CAN HANDLE CONTAINERIZATION

choose ORCHESTRATION SERVICE - AMAZON ECS(LEAST EFFORT) AND AMAZON EKS (MOST EFFORT)
choose HOSTING TYPE - 	AWS FARGATE (SERVERLESS - WE DONT NEED TO CARE ABOUT ANYTHING)(LEAST EFFORT) AND AMAZON EC2(MORE EFFORT)
						AWS FARGATE - WE USE TO AVOID MANUAL INFRA UPDATES AND TO UPDATE OWN PATCHES AND UPDATES. 
						
						
--------------------------------------------11.....SERVERLESS---------------------------------------------
no infra to manage , cost per consumption. 

COMPUTE - AWS LAMBDA AND AWS FARGATE.
API PROXY - AMAZON API GATEWAY
STORAGE - AMAZON S3.
DATABASES - DYNAMODB AND AMAZON AURORA SERVERLESS
AUTHENTICATION - AMAZON COGNITO 
INTERPROCESS MANAGIN - AMAZON SNS AND AMAZON SQS.
ORCHESTRATION - AWS STEP FUNCTIONS
ANALYTICS - KENESIS AND ATHENA.

Amazon API gateway.. AWS step function - orchestration.amazon kinesis, athena.
amazon SNS - simple notification service . Amazon SQS - simple queue service

AMAZON API GATEWAY - create entry point for applications 
					api frontend management service. convert/expose into apis. serverless, superscalable. 
					- openapi3, can create apis under API gateways. ADD RATE LIMITING..
					CAN MAP APIs to lambda function which will interact with DynamoDB.
					
NOTE: WHEN TO USE MESSAGE QUEUES , SERVICE TO SERVICE COMMUNICATION, ASYNCHRONOUS WORK ITEMS. STATE CHANGE NOTIFICATIONS. NO LARGE MESSAGES,NO SELECTING SPECIFIC MSGS					
					
SQS - simple queue service. https based queue - it is serverless. 
		2 types - 
		 1.standard  - unlimited throughput. Order is not ensured.
		 2.FIFO - order is ensured. 300 messages per second. 
		- PRODUCER - WILL QUEUE
		  CONSUMER WILL GET FROM QUEUE.. 
		  Pushing - PRODUCER PUSHES THE MESSAGE TO QUEUE. 
		  POLLING - REQUEST/RESPONSE MODEL. consumer makes a request to see if there is any new data . everytime consumer requests data, it sends identifier of the last item it received and compares. if same, no update. if different, new data is returned.			
		Polling is usually recommended with SQS. 		
		Polling types - 
			1. long  - cost affective but not high frequency. 
			2. short - when polling at short intervals, can be costly and can result into empty api calls.  
		DISTRIBUTION MODEL - ONE TO ONE. 	
			
		Loose coupling with SQS , uses asynchronous processing, absord demand spikes, creates tolerance for failed steps. 
	 

SNS - SIMPLE NOTIFICATION SERVICE (PUB-SUB ARCHITECTURE).  Push Delivery mechanism. 
		publisher publishes topic and subscriber get its.
	TOPIC DOESN'T STORE ANYTHING. IN SNS WE DONT HAVE STORAGE. SQS HAS STORAGE. 
	email/sms notitication. Push notifications for app updates. 
	DISTRIBUTION MODEL - ONE TO MANY. 
	
AMAZON KINESIS - COLLECT AND STORE DATA STREAMS FOR ANALYTICS IN REAL TIME. KINESIS IS BUNCH OF TOOLS TO PROCESS STREAMS
	kinesis data streams 
	
	
AWS STEP FUNCTIONS - coordinate microservices using visual workflows. 



---------------------------------------------------------10. NETWORKING--------------------------------------------------------------------------------------------
VPC ENDPOINT - 
----When one AWS resource tries to access other aws resource, by default they try to connect via internet
----We can use VPC endpoints to make a service available to a private resource. 
Two types of endpoints -- 
	interface - will assign private ip address to your resource. this is supported by all.
	gateway endpoint - will just assign an endpoint. supported by S3 and dynamoDB.
	
VPC Peering -  
	--used to connect two instances running in different VPCs.
	-- can be done between 2 VPCs of same region, different region, same AWs account and different AWS account. can go across accounts.. 
	-- VPC peering must not be done between two vpcs  sharing overlapping IP ranges. 
	----------------its like a tunnel.. so have to make use of a route table. have to put destination and target in route table.  Target (VPC peering connection), destination (where to go)
	---VPC peering is bi-directional. but non-transitive (A to B , B to C but C to A not possible)
	
	Full mesh VPC pairing  can be a mess if done between more than 2,3 VPCs when we have to connect each VPC to every other VPC. 
	
VPC TransitGateway ----
	-- managed capability which acts as a hub for multiple connections. 
	-- can connect upto 5000 VPCs, vpns.
	-- WE HAVE TO ASSOCIATE TransitGateway ATTACHMENT TO OUR VPC TO ALLOW ALL TRAFFIC.. TO THAT VPC.. 
	have to associate transitGateway attachment to each VPC we want communication between.  
	we have to make one route entry per each VPC in routing table -- destination VPC, target will be a transitGateway..
	
Hybrid NETWORKING--------------------------------------------------------------------------------------------
	OnPremise + Cloud
	two options --
		Site to Site VPN 
			IPsec tunnels - Go over the internet. Max 1.25 GBps subjective to internet. Easy to set up and cost effective. 
			On customer we create customer gateway.. and on cloud we create VPC gateway. 
			Encrypted in transit but travels over internet.
		DirectConnect. 	
			Dedicated channel. Private connection. 1 to 100 GBps. 
			Not encrypted, but travels in private  connection. 
	
	
------------------------------------------------------------12. Edge Services---------------------------------------------------------------------------------	
AWS regions --- Edge locations -- AWS local zones -- AWS outposts -- AWS snow family --- AWS is trying to get closer to end user to delivery high throughput. 

Service coming under Edge computing. 
Route 53 - DNS as a service in AWS. Global scope. can use for Public, private domain. it is serverless. can also act as domain registrer. 
			resolves an IP address.  transfers domain names
	Route 53 policies - 
--Simple routing
--failover 
--geolocation - if request coming from one location, can do routing to other location. 
			
--Geoproximity 
--Latency based routing 
--multivalue answer routing -- 			
--weighted routing - 90% traffic to one environment.. 10% environment to other env..		

---- Cloudfront --
primarily a content delivery network in aws. Global scope. offers application security. 

3 steps -- 
1. There is Origin (S3, ELB). Choose Origin (can be custom origin - EC2 instance, on-prem server)
2. CREATE DISTRIBUTION. DEFINE CACHE BEHAVIOR 
 There will be distribution has to be created to cache content from origin locations to edge locations for low latency.
	distribution will have some URL. client request will be going to edge location and not origin... if not in cache, then request will to origin. 
	Edge Caching - decrease latency by delivering from edge location. 
	DEFINE CACHE BEHAVIOR --- 
		1. path pattern
		2. protocol policy 
		3. HTTP methods. 4. Signed URL. 5 Cache Policy -- TIME TO LIVE (TTL) AND CACHE SETTINGS 
3. OPTIONAL STEP 
		ASSOCIATE FUNCTION. associate WAF wab access control list. Add custom domain.  
	
DDos protection --
	AWS Shield -- to prevent DDOS attacks
	they are mostly blocked at edge locations. 

	OSI Layers attacks - 
	DDos attacks can be categorized by the OSI layer they attack.
	1. Physical. 2. Data link.  3. Network.  ---- MEDIA LAYER
	3. network 4. transport layer - INFRA LAYER ATTACKS.
	5. SESSION 6. PRESENTATION 7. APPLICATIO - HOST LAYER (INCLUDING TRANSPORT LAYER ). On presentation layer - presentation layer attacks. 	
	
	Shield 2 types -
		shield standard -- will prottect layers at 3 and 4. (infra level) 
		shield advanved -- AI enabled. very costly (3000$ per month).. will prevent DDOS on layer 5 to 7. 
		
	AWS WAF - as a firewall.
	
AWS Outposts - service wherein we can order hardware to run in on premises. can order from full AWS racks and outposts servers. 
			RACKS - WILL BE COSTLY AND LOT OF SERVERS. 
			but then physical security we will have to manage. 
				
				
AWS resources supported by outposts - 
		COmpute and storage - EC2, EBS, S3.
		Networking -- VPC and load balancer
		Database - Amazon RDS n Elasticache
		container - Amazon ECS and EKS. 
	
------------------------------------------------13. BACKUP AND RECOVERY-----------------------------------------------------------------------
DISASTER PLANNING - 
Testing, resources, planning 

zonal high availability, regional

RPO - recovery point objective - minmize data loss - how much amount of data business can afford to lose.
RTO - Recovery time objective - minimize downtime - how much amount of time business can afford to be down. 

ESSENTIAL AWS SERVICES AND FEATURE OF DR. 
storage, compute, networking, database, deployment orchestration.

DUPLICATE YOUR STORAGE ----------
Amazon S3 - replicate cross-region replication
Amazon S3 Glacier - Store data in regional vault, updates inventory daily
Amazon EBS - create point-time snapshots and copy snapshots over regions and accounts.
AWS Snow family - transfer large amount of data (>10TB) faster than high-speed internet. 
AWS Datasync - sync files between on prem and in-cloud file systems over Aamazon EFS. 

For EC2 instances, we can create AMIs for recovery. 

--FAILOVER NETWORK DESIGN ------
Amazon Route 53 - traffic destribution and failover
ELB - load balancing, health checks
AMAzon VPC - extended on premise topology
AWS direct connect - highly resilient network connection 

--DATABASE BACKUP AND REPLICA----
AMAZON RDS - take snapshot of data and store in seperate regions. Create multi-AZ cluster deployment to build a resilient DR strategy using standby instances and read replicas. 
				retain automated backups
DYNAMODB - backup full tables within seconds. Use point-time recovery continuously for table backup for upto 35 days. Initiate backup with single click in console or api call.  
Build global tables for fast performance for globally distributed apps. 

--TEMPLATES AND SCRIPTS--
AWS CLOUDFORMATION -- use templates to quickly deploy collections of resources as needed. 
Scripts - use scripts to automate the provisioning of infra in the cloud. 


AWS BACKUP ---
fully managed service - centralized and automated data prottection, can create jobs for automation.. not available for all AWS services. INCREMENTAL BACKUPS. 

Recovery strategies --
4 models for DR practices on AWS-
AS WE GO DOWN COST GOES HIGH...BUT time required for DR will get less... means it will recover faster as we down this models. 
1. backup and restore -  Lowest priority usecases. take backup and we can restore. RTO plays an imp. role to cater the downtime. SOLUTION - S3, AMAZON STORAGE GATEWAY. Backup and restore can take HOURS. 
2. Pilot light - LOWER RTO, RPO. CORE SERVICES.  scale AWS resources in response to a DR event. primary location is down, so secondary can be brought up. CROSS SERVICES. Backup and restore in 10s OF MINUTESSSS. 
3. Fully working low-capacity standby - HIGHER PRIORITY REQUIRE  RTO AND RPO IN MINUTES. BUSINESS CRITICAL SERVICES. 
4. Multi-site active/active. - HIGHEST PRIORITY. Real time RPO-RTO.. but cost is very high. Auto-failover of your environment in AWS to a running duplicate.



EXAM SCHEDULING LINK -----
https://aws.amazon.com/certification/certified-solutions-architect-associate/?ch=sec&sec=rmg&d=1


ONE AND HALF HOUR TIME. 
65 QUESTIONS  - 130 QUESTIONS
10 SIMPLE QUESTIONS
55 - SCENARIO BASED.
